# users

API для хранения информации о пользователях и выполнения CRUD операций, формат передачи данных JSON.

1. Приложение разработано на aiohttp server c применением ORM SQLAlchemy и базы данных PostgreSQL.
2. Для обеспечения миграций подключен Alembic.
3. Разработаны две модели: модель пользователя и модель права.
4. Авторизация осуществляется по логину и паролю.
5. Для определения прав доступа используется cookies, с применением библиотека aiohttp-security.
6. Операция READ доступна для всех пользователей, CREATE, UPDATE, DELETE только для пользователя с правом admin.
7. Уровень логирования и основные настройка определены в файле конфигурации.
8. Обеспечена валидация данных, документирование REST API с применением aiohttp-apispec, swagger, marshmallow.
9. Написаны тесты для отправки данных пост запроса и получения гет.

10. Docker-compose запустить пока не получилось, не смог сконнектить web и redis.

11. Для запуска на локальном сервере необходимо:
- создать и активировать виртуальное окружение
- клонировать репозиторий https://github.com/amkolotov/users
- установить зависимости из файла requirements.txt
- установить PostgreSQL, прописать свои настройки в файле my_app.yml в папке cofig, если необходимо
- применить миграции командой 'alembic upgrade head'
- заполнить базу тестовыми данными командой 'python init.db.py'
- скачать образ redis командой 'docker pull redis' и запустить 'docker run -p 6379:6379 --name redis-server redis'
- запустить приложение командой 'python main.py'
- перейти по адресу http://127.0.0.1:8080 и получить список пользователей
- API swagger доступно по адресу http://127.0.0.1:8080/docs
- Администратор login:admin, password:admin, пользователь login:user, password:user


